<!doctype html>
<html lang=en>
<head>
  <title>Chattr</title>
  <link rel=stylesheet type=text/css href=/static/css/reset.css>
  <link rel=stylesheet type=text/css href=/static/css/style.css>
  <script rel=javascript type=text/javascript
    src=/static/js/jquery-1.7.2.min.js></script>
  <script rel=javascript type=text/javascript
    src=/static/js/underscore-min.js></script>
  <script rel=javascript type=text/javascript
    src=/static/js/backbone-min.js></script>
  <script rel=javascript type=text/javascript
    src=/static/js/socket.io.min.js></script>
  <script rel=javascript type=text/javascript
    src=/static/js/chattr.js></script>
<script rel=javascript type=text/javascript>
$(document).ready(function() {

Chattr.chatForm = new Chattr.views.ChatForm();

Chattr.chatView = new Chattr.views.ChatView({
  messages: {{ messages|safe }}
}).render();

});
</script>
</head>
<body>
  <div id=app>
    <h1 id=branding>Chattr</h1>
    <p id=description>Chat with strangers. A simple chat app that
    demonstrates gevent-socketio on flask with backbone.js (now with pymongo!)</p>
    <ul id=chat></ul>

    <form id=chatform>
      <input type=text class=alias placeholder="Alias">
      <input type=text class=message placeholder="Enter your message here...">
      <input type=submit class=button value=Send>
    </form>
    <p id=source>Source can be found here: <a
      href=https://github.com/jpanganiban/chattr>Github</a></p>
  </div>
</body>

<script id=message type=text/html>
  <span class=alias><%- alias %></span> <span class=verb>says</span> <%- message %>
  <span class=time><%- new Date(time*1000).toLocaleTimeString() %></span>
</script>

</html>
